# **Курсовая работа №7** 

`Контекст`

###### В 2018 году Джеймс Клир написал книгу «Атомные привычки», которая посвящена приобретению новых полезных привычек и искоренению старых плохих привычек. Заказчик прочитал книгу, впечатлился и обратился к вам с запросом реализовать трекер полезных привычек.

#### Описание задач

    Добавьте необходимые модели привычек.
    Реализуйте эндпоинты для работы с фронтендом.
    Создайте приложение для работы с Telegram и рассылками напоминаний.

#### Модели

`В книге хороший пример привычки описывается как конкретное действие, которое можно уложить в одно предложение:
`
`я буду [ДЕЙСТВИЕ] в [ВРЕМЯ] в [МЕСТО]`

`За каждую полезную привычку необходимо себя вознаграждать или сразу после делать приятную привычку. Но при этом привычка не должна расходовать на выполнение больше 2 минут. Исходя из этого получаем первую модель — Привычка. 
`

**В данной программе при создании привычки так же будет отправляться сообщение**

#### Валидаторы

    Исключен одновременный выбор связанной привычки и указания вознаграждения.
    Время выполнения не больше 120 секунд.
    В связанные привычки могут попадать только привычки с признаком приятной привычки.
    У приятной привычки не может быть вознаграждения или связанной привычки.
    Нельзя выполнять привычку реже, чем 1 раз в 7 дней.

#### Пагинация

`Для вывода списка привычек реализована пагинация с выводом по 5 привычек на страницу.`

Права доступа

    Каждый пользователь имеет доступ только к своим привычкам по механизму CRUD.
    Пользователь может видеть список публичных привычек без возможности их как-то редактировать или удалять.

### **Покрытие тестами - 86%**

В папке `config` файл `celery.py` с настройкой `app.conf.beat_schedule = { 'add-every-60-seconds': { 'task': 'habit.tasks.habits_notification', 'schedule': 60 }, }` , где `beat` будет проверять задачу каждые 60 секунд.

Все необходимые установки в [requirements.txt]() , либо [poetry install]()

Запуск сервера `python manage.py runserver`

Worker и Beat в celery должны быть запущенны одновременно 

`celery -A config worker -l INFO`

`celery -A config beat -l INFO`